{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\App.js\";\nimport React, { useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './index.css';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport Home from './pages/Home';\nimport Header from './components/nav/Header';\nimport SideDrawer from './components/drawer/SideDrawer';\nimport RegisterComplete from './pages/auth/RegisterComplete';\nimport ForgotPassword from './pages/auth/ForgotPassword';\nimport { auth } from './firebase';\nimport { useDispatch } from 'react-redux';\nimport { currentUser } from './functions/auth';\nimport History from './pages/user/History';\nimport Password from './pages/user/Password';\nimport Wishlist from './pages/user/Wishlist';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport UserRoute from './components/routes/UserRoute';\nimport AdminRoute from './components/routes/AdminRoute';\nimport CategoryCreate from './pages/admin/category/CategoryCreate';\nimport CategoryUpdate from './pages/admin/category/CategoryUpdate';\nimport SubCreate from './pages/admin/sub/SubCreate';\nimport SubUpdate from './pages/admin/sub/SubUpdate';\nimport ProductCreate from './pages/admin/product/ProductCreate';\nimport AllProducts from './pages/admin/product/AllProducts';\nimport ProductUpdate from './pages/admin/product/ProductUpdate';\nimport Product from './pages/Product';\nimport CategoryHome from './pages/category/CategoryHome';\nimport SubHome from './pages/sub/SubHome';\nimport Shop from './pages/Shop';\nimport Cart from './pages/Cart';\nimport Checkout from './pages/Checkout';\nimport CreateCouponPage from './pages/admin/coupon/CreateCouponPage';\n\nconst App = () => {\n  const dispatch = useDispatch(); //to check firebase auth state\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log('user', user);\n        currentUser(idTokenResult.token).then(res => {\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id\n            }\n          });\n        }).catch(err => console.log(err));\n      }\n    }); //cleanup\n\n    return () => unsubscribe();\n  }, [dispatch]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SideDrawer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/register/complete\",\n    component: RegisterComplete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/forgot/password\",\n    component: ForgotPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(UserRoute, {\n    exact: true,\n    path: \"/checkout\",\n    component: Checkout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(UserRoute, {\n    exact: true,\n    path: \"/user/history\",\n    component: History,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(UserRoute, {\n    exact: true,\n    path: \"/user/password\",\n    component: Password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(UserRoute, {\n    exact: true,\n    path: \"/user/wishlist\",\n    component: Wishlist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/category\",\n    component: CategoryCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/coupon\",\n    component: CreateCouponPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/dashboard\",\n    component: AdminDashboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/product\",\n    component: ProductCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/products\",\n    component: AllProducts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/sub\",\n    component: SubCreate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/category/:slug\",\n    component: CategoryUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/product/:slug\",\n    component: ProductUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AdminRoute, {\n    exact: true,\n    path: \"/admin/sub/:slug\",\n    component: SubUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/cart\",\n    component: Cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/shop\",\n    component: Shop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/category/:slug\",\n    component: CategoryHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/product/:slug\",\n    component: Product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/sub/:slug\",\n    component: SubHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/App.js"],"names":["React","useEffect","Switch","Route","ToastContainer","Login","Register","Home","Header","SideDrawer","RegisterComplete","ForgotPassword","auth","useDispatch","currentUser","History","Password","Wishlist","AdminDashboard","UserRoute","AdminRoute","CategoryCreate","CategoryUpdate","SubCreate","SubUpdate","ProductCreate","AllProducts","ProductUpdate","Product","CategoryHome","SubHome","Shop","Cart","Checkout","CreateCouponPage","App","dispatch","unsubscribe","onAuthStateChanged","user","idTokenResult","getIdTokenResult","console","log","token","then","res","type","payload","name","data","email","role","_id","catch","err"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\n\nimport { Switch, Route } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './index.css';\n\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport Home from './pages/Home';\nimport Header from './components/nav/Header';\nimport SideDrawer from './components/drawer/SideDrawer';\n\nimport RegisterComplete from './pages/auth/RegisterComplete';\nimport ForgotPassword from './pages/auth/ForgotPassword';\n\nimport { auth } from './firebase';\nimport { useDispatch } from 'react-redux';\nimport { currentUser } from './functions/auth';\nimport History from './pages/user/History';\nimport Password from './pages/user/Password';\nimport Wishlist from './pages/user/Wishlist';\nimport AdminDashboard from './pages/admin/AdminDashboard';\n\nimport UserRoute from './components/routes/UserRoute';\nimport AdminRoute from './components/routes/AdminRoute';\nimport CategoryCreate from './pages/admin/category/CategoryCreate';\nimport CategoryUpdate from './pages/admin/category/CategoryUpdate';\nimport SubCreate from './pages/admin/sub/SubCreate';\nimport SubUpdate from './pages/admin/sub/SubUpdate';\nimport ProductCreate from './pages/admin/product/ProductCreate';\nimport AllProducts from './pages/admin/product/AllProducts';\nimport ProductUpdate from './pages/admin/product/ProductUpdate';\nimport Product from './pages/Product';\nimport CategoryHome from './pages/category/CategoryHome';\nimport SubHome from './pages/sub/SubHome';\nimport Shop from './pages/Shop';\nimport Cart from './pages/Cart';\nimport Checkout from './pages/Checkout';\nimport CreateCouponPage from './pages/admin/coupon/CreateCouponPage';\n\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  //to check firebase auth state\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log('user', user);\n\n        currentUser(idTokenResult.token)\n          .then(\n            res => {\n              dispatch({\n                type: \"LOGGED_IN_USER\",\n                payload: {\n                  name: res.data.name,\n                  email: res.data.email,\n                  token: idTokenResult.token,\n                  role: res.data.role,\n                  _id: res.data._id,\n                },\n              });\n            })\n          .catch((err) => console.log(err));\n\n      }\n    });\n    //cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <SideDrawer />\n      <ToastContainer />\n      <Switch>\n\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n\n\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute exact path=\"/admin/coupon\" component={CreateCouponPage} />\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n        <AdminRoute exact path=\"/admin/sub\" component={SubCreate} />\n\n        <AdminRoute exact path=\"/admin/category/:slug\" component={CategoryUpdate} />          \n        <AdminRoute exact path=\"/admin/product/:slug\" component={ProductUpdate} />\n        <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} />\n\n        <Route exact path=\"/cart\" component={Cart} />\n        <Route exact path=\"/shop\" component={Shop} />\n\n        <Route exact path=\"/category/:slug\" component={CategoryHome} />\n        <Route exact path=\"/product/:slug\" component={Product} />\n        <Route exact path=\"/sub/:slug\" component={SubHome} />        \n\n\n\n      </Switch>\n    </>\n  )\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}