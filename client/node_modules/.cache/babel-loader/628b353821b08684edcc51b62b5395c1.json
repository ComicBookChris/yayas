{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\cards\\\\ProductCardInCheckout.js\";\nimport React from 'react';\nimport ModalImage from \"react-modal-image\";\nimport Yayas from '../../images/yayas.png';\nimport { useDispatch } from \"react-redux\";\nimport { toast } from 'react-toastify';\nimport { CheckCircleOutlined, CloseCircleOutlined, CloseOutlined } from '@ant-design/icons';\n\nconst ProductCardInCheckout = ({\n  p\n}) => {\n  const colors = ['Black', 'Brown', 'Silver', 'White', 'Blue'];\n  let dispatch = useDispatch();\n\n  const handleColorChange = e => {\n    // console.log(\"color changed\", e.target.value);\n    let cart = [];\n\n    if (typeof window !== 'undefined') {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart[i].color = e.target.value;\n        }\n      }); // console.log('cart update color', cart);\n\n      localStorage.setItem('cart', JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart\n      });\n    }\n  };\n\n  const handleQuantityChange = e => {\n    // console.log(\"available quantity\", p.quantity);\n    let count = e.target.value < 1 ? 1 : e.target.value;\n\n    if (count > p.quantity) {\n      toast.error(`Max available quantity: ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== 'undefined') {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n      localStorage.setItem('cart', JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart\n      });\n    }\n  };\n\n  const handleRemove = () => {\n    console.log(p._id, \"to remove\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100px\",\n      height: \"auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, p.images.length ? /*#__PURE__*/React.createElement(ModalImage, {\n    small: p.images[0].url,\n    large: p.images[0].url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 32\n    }\n  }) : /*#__PURE__*/React.createElement(ModalImage, {\n    small: Yayas,\n    large: Yayas,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 32\n    }\n  }))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, p.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"$\", p.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, p.brand), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    onChange: handleColorChange,\n    name: \"color\",\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, p.color ? /*#__PURE__*/React.createElement(\"option\", {\n    value: p.color,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 31\n    }\n  }, p.color) : /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 31\n    }\n  }, \"Select\"), colors.filter(c => c !== p.color).map(c => /*#__PURE__*/React.createElement(\"option\", {\n    key: c,\n    value: c,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, c)))), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    value: p.count,\n    onChange: handleQuantityChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, p.shipping === \"Yes\" ? /*#__PURE__*/React.createElement(CheckCircleOutlined, {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 24\n    }\n  }) : /*#__PURE__*/React.createElement(CloseCircleOutlined, {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 24\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    className: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CloseOutlined, {\n    onClick: handleRemove,\n    className: \"text-danger pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default ProductCardInCheckout;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/cards/ProductCardInCheckout.js"],"names":["React","ModalImage","Yayas","useDispatch","toast","CheckCircleOutlined","CloseCircleOutlined","CloseOutlined","ProductCardInCheckout","p","colors","dispatch","handleColorChange","e","cart","window","localStorage","getItem","JSON","parse","map","product","i","_id","color","target","value","setItem","stringify","type","payload","handleQuantityChange","count","quantity","error","handleRemove","console","log","width","height","images","length","url","title","price","brand","filter","c","shipping"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ModalImage from \"react-modal-image\";\r\nimport Yayas from '../../images/yayas.png';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from 'react-toastify';\r\nimport { CheckCircleOutlined, CloseCircleOutlined, CloseOutlined } from '@ant-design/icons';\r\n\r\nconst ProductCardInCheckout = ({ p }) => {\r\n    const colors = ['Black', 'Brown', 'Silver', 'White', 'Blue'];\r\n    let dispatch = useDispatch();\r\n\r\n    const handleColorChange = e => {\r\n        // console.log(\"color changed\", e.target.value);\r\n\r\n        let cart = []\r\n        if (typeof window !== 'undefined') {\r\n            if (localStorage.getItem(\"cart\")) {\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n            }\r\n\r\n            cart.map((product, i) => {\r\n                if (product._id === p._id) {\r\n                    cart[i].color = e.target.value;\r\n                }\r\n            });\r\n\r\n            // console.log('cart update color', cart);\r\n            localStorage.setItem('cart', JSON.stringify(cart));\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: cart,\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleQuantityChange = e => {\r\n        // console.log(\"available quantity\", p.quantity);\r\n\r\n        let count = e.target.value < 1 ? 1 : e.target.value;\r\n\r\n        if (count > p.quantity) {\r\n            toast.error(`Max available quantity: ${p.quantity}`);\r\n            return;\r\n        }\r\n\r\n        let cart = [];\r\n\r\n        if (typeof window !== 'undefined') {\r\n            if (localStorage.getItem('cart')) {\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n            }\r\n\r\n            cart.map((product, i) => {\r\n                if (product._id == p._id) {\r\n                    cart[i].count = count;\r\n                }\r\n            });\r\n\r\n            localStorage.setItem('cart', JSON.stringify(cart));\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: cart,\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleRemove = () => {\r\n        console.log(p._id, \"to remove\")\r\n    };\r\n\r\n    return (\r\n        <tbody>\r\n            <tr>\r\n                <td>\r\n                    <div style={{ width: \"100px\", height: \"auto\" }}>\r\n                        {p.images.length\r\n                            ? (<ModalImage small={p.images[0].url} large={p.images[0].url} />)\r\n                            : (<ModalImage small={Yayas} large={Yayas} />)\r\n                        }\r\n                    </div>\r\n                </td>\r\n                <td>{p.title}</td>\r\n                <td>${p.price}</td>\r\n                <td>{p.brand}</td>\r\n                <td>\r\n                    <select onChange={handleColorChange} name=\"color\" className=\"form-control\">\r\n                        {p.color\r\n                            ? <option value={p.color}>{p.color}</option>\r\n                            : <option>Select</option>\r\n                        }\r\n                        {colors\r\n                            .filter((c) => c !== p.color)\r\n                            .map((c) => (\r\n                                <option key={c} value={c}>\r\n                                    {c}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </td>\r\n                <td className=\"text-center\">\r\n                    <input\r\n                        type=\"number\"\r\n                        className=\"form-control\"\r\n                        value={p.count}\r\n                        onChange={handleQuantityChange}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    {p.shipping === \"Yes\" \r\n                    ? (<CheckCircleOutlined className=\"text-success\" />)\r\n                    : (<CloseCircleOutlined className=\"text-danger\" />)\r\n                    }\r\n                </td>\r\n                <td className>\r\n                    <CloseOutlined onClick={handleRemove} className=\"text-danger pointer\" />\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    );\r\n}\r\n\r\nexport default ProductCardInCheckout;\r\n"]},"metadata":{},"sourceType":"module"}