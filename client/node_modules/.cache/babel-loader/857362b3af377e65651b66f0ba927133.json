{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\pages\\\\auth\\\\ForgotPassword.js\";\nimport React, { useState, useEffect } from 'react';\nimport { auth } from '..//../firebase';\nimport { toast } from 'react-toastify';\nimport { useSelector } from 'react-redux';\n\nconst ForgotPassword = ({\n  history\n}) => {\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    if (user && user.token) history.push('');\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true\n    };\n    await auth.sendPasswordResetEmail(email, config).then(() => {\n      setEmail('');\n      setLoading(false);\n      toast.success('Check your email for password reset link');\n    }).catch(error => {\n      setLoading(false);\n      toast.error(error.message);\n      console.log('ERROR MSG IN FORGOT PASSWORD', error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-md-6 offset-md-3 p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }\n  }, \"Loading\") : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }\n  }, \"Forgot Password\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    placeholder: \"Type your email\",\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-raised\",\n    disabled: !email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n};\n\nexport default ForgotPassword;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/pages/auth/ForgotPassword.js"],"names":["React","useState","useEffect","auth","toast","useSelector","ForgotPassword","history","email","setEmail","loading","setLoading","user","state","token","push","handleSubmit","e","preventDefault","config","url","process","env","REACT_APP_FORGOT_PASSWORD_REDIRECT","handleCodeInApp","sendPasswordResetEmail","then","success","catch","error","message","console","log","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AACpC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AAEA,QAAM;AAACW,IAAAA;AAAD,MAASP,WAAW,CAAEQ,KAAD,KAAY,EAAC,GAAGA;AAAJ,GAAZ,CAAD,CAA1B;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGU,IAAI,IAAIA,IAAI,CAACE,KAAhB,EAAuBP,OAAO,CAACQ,IAAR,CAAa,EAAb;AAC1B,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMC,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAP,IAAAA,UAAU,CAAC,IAAD,CAAV;AAEA,UAAMQ,MAAM,GAAG;AACXC,MAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,kCADN;AAEXC,MAAAA,eAAe,EAAE;AAFN,KAAf;AAKA,UAAMrB,IAAI,CACTsB,sBADK,CACkBjB,KADlB,EACyBW,MADzB,EAELO,IAFK,CAEA,MAAM;AACRjB,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAP,MAAAA,KAAK,CAACuB,OAAN,CAAc,0CAAd;AACH,KANK,EAOLC,KAPK,CAOEC,KAAD,IAAW;AACdlB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAP,MAAAA,KAAK,CAACyB,KAAN,CAAYA,KAAK,CAACC,OAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CH,KAA5C;AACH,KAXK,CAAN;AAYH,GArBD;;AAuBA,sBACI;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKnB,OAAO,gBACL;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADK,gBAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHP,eAMI;AAAM,IAAA,QAAQ,EAAEM,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACA,IAAA,IAAI,EAAC,OADL;AAEA,IAAA,SAAS,EAAC,cAFV;AAGA,IAAA,KAAK,EAAER,KAHP;AAIA,IAAA,QAAQ,EAAGS,CAAD,IAAOR,QAAQ,CAACQ,CAAC,CAACgB,MAAF,CAASC,KAAV,CAJzB;AAKA,IAAA,WAAW,EAAC,iBALZ;AAMA,IAAA,SAAS,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,eAUI;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,QAAQ,EAAE,CAAC1B,KAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,CANJ,CADJ;AAuBH,CAxDD;;AA0DA,eAAeF,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { auth } from '..//../firebase';\r\nimport { toast } from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const {user} = useSelector((state) => ({...state}));\r\n\r\n    useEffect(() => {\r\n        if(user && user.token) history.push('')\r\n    }, [])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        const config = {\r\n            url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\r\n            handleCodeInApp: true,\r\n        };\r\n\r\n        await auth\r\n        .sendPasswordResetEmail(email, config)\r\n        .then(() => {\r\n            setEmail('');\r\n            setLoading(false);\r\n            toast.success('Check your email for password reset link')\r\n        })\r\n        .catch((error) => {\r\n            setLoading(false);\r\n            toast.error(error.message);\r\n            console.log('ERROR MSG IN FORGOT PASSWORD', error)\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            {loading \r\n            ? (<h4 className=\"text-danger\">Loading</h4>) \r\n            : (<h4>Forgot Password</h4>)\r\n            }\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <input \r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                placeholder=\"Type your email\"\r\n                autoFocus    \r\n                />\r\n                <br/>\r\n                <button className=\"btn btn-raised\" disabled={!email}>\r\n                Submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"]},"metadata":{},"sourceType":"module"}