{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\forms\\\\FileUpload.js\";\nimport { LikeFilled } from '@ant-design/icons';\nimport React from 'react';\nimport Resizer from 'react-image-file-resizer';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\n\nconst FileUpload = ({\n  values,\n  setValues,\n  setLoading\n}) => {\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n\n  const fileUploadAndResize = e => {\n    // console.log(e.target.files);\n    // resize\n    let files = e.target.files;\n    let allUploadedFiles = values.images;\n\n    if (files) {\n      setLoading(true);\n\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(files[i], 720, 720, 'JPEG', 100, 0, uri => {\n          console.log(uri);\n        }, 'base64');\n      }\n    } // send back to server to upload to cloudinary\n    // set url to images[] in the parent component - ProductCreate\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"btn btn-primary btn-raised\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"Choose File\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    multiple: true,\n    hidden: true,\n    accept: \"images/*\",\n    onChange: fileUploadAndResize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default FileUpload;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/forms/FileUpload.js"],"names":["LikeFilled","React","Resizer","axios","useSelector","FileUpload","values","setValues","setLoading","user","state","fileUploadAndResize","e","files","target","allUploadedFiles","images","i","length","imageFileResizer","uri","console","log"],"mappings":";AAAA,SAASA,UAAT,QAA2B,mBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,MAAD;AAASC,EAAAA,SAAT;AAAoBC,EAAAA;AAApB,CAAD,KAAqC;AAEpD,QAAM;AAACC,IAAAA;AAAD,MAASL,WAAW,CAAEM,KAAD,KAAY,EAAC,GAAGA;AAAJ,GAAZ,CAAD,CAA1B;;AAEA,QAAMC,mBAAmB,GAAIC,CAAD,IAAO;AAC/B;AACA;AACA,QAAIC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAArB;AAEA,QAAIE,gBAAgB,GAAGT,MAAM,CAACU,MAA9B;;AAEA,QAAGH,KAAH,EAAU;AACNL,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,WAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACK,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnCf,QAAAA,OAAO,CAACiB,gBAAR,CACIN,KAAK,CAACI,CAAD,CADT,EAEI,GAFJ,EAGI,GAHJ,EAII,MAJJ,EAKI,GALJ,EAMI,CANJ,EAOKG,GAAD,IAAS;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACC,SATL,EAUI,QAVJ;AAYH;AACJ,KAvB8B,CAwB/B;AACA;;AACH,GA1BD;;AA4BA,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,4BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEA;AACQ,IAAA,IAAI,EAAC,MADb;AAEQ,IAAA,QAAQ,MAFhB;AAGQ,IAAA,MAAM,MAHd;AAIQ,IAAA,MAAM,EAAC,UAJf;AAKQ,IAAA,QAAQ,EAAET,mBALlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CADJ,CADJ;AAcH,CA9CD;;AAgDA,eAAeN,UAAf","sourcesContent":["import { LikeFilled } from '@ant-design/icons';\r\nimport React from 'react';\r\nimport Resizer from 'react-image-file-resizer';\r\nimport axios from 'axios';\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst FileUpload = ({values, setValues, setLoading}) => {\r\n\r\n    const {user} = useSelector((state) => ({...state}));\r\n\r\n    const fileUploadAndResize = (e) => {\r\n        // console.log(e.target.files);\r\n        // resize\r\n        let files = e.target.files;\r\n\r\n        let allUploadedFiles = values.images\r\n\r\n        if(files) {\r\n            setLoading(true);\r\n            for (let i = 0; i < files.length; i++) {\r\n                Resizer.imageFileResizer(\r\n                    files[i], \r\n                    720, \r\n                    720, \r\n                    'JPEG', \r\n                    100, \r\n                    0, \r\n                    (uri) => {\r\n                    console.log(uri);\r\n                    }, \r\n                    'base64'\r\n                    );\r\n            }\r\n        }\r\n        // send back to server to upload to cloudinary\r\n        // set url to images[] in the parent component - ProductCreate\r\n    };\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <label className=\"btn btn-primary btn-raised\">\r\n                Choose File\r\n            <input\r\n                    type=\"file\"\r\n                    multiple\r\n                    hidden\r\n                    accept=\"images/*\"\r\n                    onChange={fileUploadAndResize}\r\n                />\r\n            </label>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FileUpload;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}