{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\pages\\\\Shop.js\";\nimport React, { useState, useEffect } from 'react';\n/* To get all the products, and get the products by default, need\r\nto use a method called getProductsByCount. Which is already \r\naccessible though functions folder in product.js. There\r\ngetProductsByCount makes a request using an Axios call to an \r\nendpoint and give the value of how many are needed. */\n\nimport { getProductsByCount, fetchProductsByFilter } from \"../functions/product\";\nimport { getCategories } from \"../functions/category\";\n/* Access the Redux Store  */\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport ProductCard from '../components/cards/ProductCard';\nimport { Menu, Slider, Checkbox } from 'antd';\nimport { DollarCircleOutlined, DownCircleOutlined, checkOutlined } from '@ant-design/icons';\nconst {\n  SubMenu,\n  ItemGroup\n} = Menu;\n\nconst Shop = () => {\n  /* State variable to store products, useState will be an empty array. */\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [price, setPrice] = useState([0, 0]);\n  const [ok, setOk] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [categoriesIds, setCategoriesIds] = useState([]);\n  let dispatch = useDispatch();\n  let {\n    search\n  } = useSelector(state => ({ ...state\n  }));\n  const {\n    text\n  } = search;\n  /* Need to show products when the user lands on this page. For this, \r\n  useEffect is used. Which will make a request to the getProductsByCount method\r\n  that is imported. which will be stored in the state which is the const [products, setProducts],\r\n  up above. Everything will be displayed utilizing map function in the return function below. */\n\n  useEffect(() => {\n    loadAllProducts(); // fetch categories\n\n    getCategories().then(res => setCategories(res.data));\n  }, []);\n\n  const fetchProducts = arg => {\n    fetchProductsByFilter(arg).then(res => {\n      setProducts(res.data);\n    });\n  }; //* 1. load products by default on page load.\n\n\n  const loadAllProducts = () => {\n    /* Using the method getProductsByCount declare how many is needed by the numeric value.\r\n    By default 12 will show. This is subject to change. then set response, in this case it is\r\n    p. setProducts to p.data, and setLoading to false. */\n    getProductsByCount(12).then(p => {\n      setProducts(p.data);\n      setLoading(false);\n    });\n  }; //*  2. load products on user search input\n\n\n  useEffect(() => {\n    /**This console.log only works on the Shop page. */\n    // console.log(\"load products on user search input\", text);\n    const delayed = setTimeout(() => {\n      fetchProducts({\n        query: text\n      });\n    }, 300);\n    return () => clearTimeout(delayed);\n  }, [text]); //* 3. load products based on price range\n\n  useEffect(() => {\n    console.log('ok to request');\n    fetchProducts({\n      price\n    });\n  }, [ok]);\n\n  const handleSlider = value => {\n    dispatch({\n      type: \"SEARCH-QUERY\",\n      payload: {\n        text: ''\n      }\n    });\n    setPrice(value);\n    setTimeout(() => {\n      setOk(!ok);\n    }, 300);\n  }; // 4. load products based on category\n  // show categories in a  list of checkbox\n\n\n  const showCategories = () => categories.map(c => /*#__PURE__*/React.createElement(\"div\", {\n    key: c._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    onChange: handleCheck,\n    className: \"pb-2 pl-4 pr-4\",\n    value: c._id,\n    name: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, c.name), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }))); // handle check for categories\n\n\n  const handleCheck = e => {} // \n\n  /* By this time the products should be in the state. So now return them.  */\n  ;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center text-info pt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, \"Search/Filter\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    defaultOpenKeys: ['1', '2'],\n    mode: \"inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SubMenu, {\n    key: \"1\",\n    title: /*#__PURE__*/React.createElement(\"span\", {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DollarCircleOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 70\n      }\n    }), \"Price\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Slider, {\n    className: \"ml-4 mr-4\",\n    tipFormatter: v => `$${v}`,\n    range: true,\n    value: price,\n    onChange: handleSlider,\n    max: \"10000\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(SubMenu, {\n    key: \"2\",\n    title: /*#__PURE__*/React.createElement(\"span\", {\n      className: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DownCircleOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 70\n      }\n    }), \" Category \"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '-10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }, showCategories())))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-9 pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, loading ? /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 28\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 28\n    }\n  }, \"Products\"), products.length < 1 && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 45\n    }\n  }, \"No products found\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row pb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, products.map(p => /*#__PURE__*/React.createElement(\"div\", {\n    key: p._id,\n    className: \"col-md-4 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(ProductCard, {\n    product: p,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  })))))));\n};\n\nexport default Shop;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/pages/Shop.js"],"names":["React","useState","useEffect","getProductsByCount","fetchProductsByFilter","getCategories","useSelector","useDispatch","ProductCard","Menu","Slider","Checkbox","DollarCircleOutlined","DownCircleOutlined","checkOutlined","SubMenu","ItemGroup","Shop","products","setProducts","loading","setLoading","price","setPrice","ok","setOk","categories","setCategories","categoriesIds","setCategoriesIds","dispatch","search","state","text","loadAllProducts","then","res","data","fetchProducts","arg","p","delayed","setTimeout","query","clearTimeout","console","log","handleSlider","value","type","payload","showCategories","map","c","_id","handleCheck","name","e","v","marginTop","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA;;;;;;AAKA,SACIC,kBADJ,EAEIC,qBAFJ,QAGO,sBAHP;AAIA,SAASC,aAAT,QAA8B,uBAA9B;AACA;;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,QAAvB,QAAuC,MAAvC;AACA,SAASC,oBAAT,EAA+BC,kBAA/B,EAAmDC,aAAnD,QAAwE,mBAAxE;AAEA,MAAM;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,IAAyBP,IAA/B;;AAEA,MAAMQ,IAAI,GAAG,MAAM;AACf;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACmB,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,CAAlC;AACA,QAAM,CAACuB,EAAD,EAAKC,KAAL,IAAcxB,QAAQ,CAAC,KAAD,CAA5B;AACA,QAAM,CAACyB,UAAD,EAAaC,aAAb,IAA8B1B,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC2B,aAAD,EAAgBC,gBAAhB,IAAoC5B,QAAQ,CAAC,EAAD,CAAlD;AAGA,MAAI6B,QAAQ,GAAGvB,WAAW,EAA1B;AACA,MAAI;AAAEwB,IAAAA;AAAF,MAAazB,WAAW,CAAE0B,KAAD,KAAY,EAAE,GAAGA;AAAL,GAAZ,CAAD,CAA5B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWF,MAAjB;AAEA;;;;;AAIA7B,EAAAA,SAAS,CAAC,MAAM;AACZgC,IAAAA,eAAe,GADH,CAEZ;;AACA7B,IAAAA,aAAa,GAAG8B,IAAhB,CAAsBC,GAAD,IAAST,aAAa,CAACS,GAAG,CAACC,IAAL,CAA3C;AACH,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,aAAa,GAAIC,GAAD,IAAS;AAC3BnC,IAAAA,qBAAqB,CAACmC,GAAD,CAArB,CAA2BJ,IAA3B,CAAiCC,GAAD,IAAS;AACrCjB,MAAAA,WAAW,CAACiB,GAAG,CAACC,IAAL,CAAX;AACH,KAFD;AAGH,GAJD,CAxBe,CA8Bf;;;AACA,QAAMH,eAAe,GAAG,MAAM;AAC1B;;;AAGA/B,IAAAA,kBAAkB,CAAC,EAAD,CAAlB,CAAuBgC,IAAvB,CAA6BK,CAAD,IAAO;AAC/BrB,MAAAA,WAAW,CAACqB,CAAC,CAACH,IAAH,CAAX;AACAhB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAHD;AAIH,GARD,CA/Be,CAyCf;;;AACAnB,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA;AACA,UAAMuC,OAAO,GAAGC,UAAU,CAAC,MAAM;AAC7BJ,MAAAA,aAAa,CAAC;AAAEK,QAAAA,KAAK,EAAEV;AAAT,OAAD,CAAb;AACH,KAFyB,EAEvB,GAFuB,CAA1B;AAGA,WAAO,MAAMW,YAAY,CAACH,OAAD,CAAzB;AACH,GAPQ,EAON,CAACR,IAAD,CAPM,CAAT,CA1Ce,CAmDf;;AACA/B,EAAAA,SAAS,CAAC,MAAM;AACZ2C,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAR,IAAAA,aAAa,CAAC;AAAEhB,MAAAA;AAAF,KAAD,CAAb;AACH,GAHQ,EAGN,CAACE,EAAD,CAHM,CAAT;;AAKA,QAAMuB,YAAY,GAAIC,KAAD,IAAW;AAC5BlB,IAAAA,QAAQ,CAAC;AACLmB,MAAAA,IAAI,EAAE,cADD;AAELC,MAAAA,OAAO,EAAE;AAAEjB,QAAAA,IAAI,EAAE;AAAR;AAFJ,KAAD,CAAR;AAIAV,IAAAA,QAAQ,CAACyB,KAAD,CAAR;AACAN,IAAAA,UAAU,CAAC,MAAM;AACbjB,MAAAA,KAAK,CAAC,CAACD,EAAF,CAAL;AACH,KAFS,EAEP,GAFO,CAAV;AAGH,GATD,CAzDe,CAoEf;AACA;;;AACA,QAAM2B,cAAc,GAAG,MAAMzB,UAAU,CAAC0B,GAAX,CAAgBC,CAAD,iBAC5C;AAAK,IAAA,GAAG,EAAEA,CAAC,CAACC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEC,WAApB;AAAiC,IAAA,SAAS,EAAC,gBAA3C;AAA4D,IAAA,KAAK,EAAEF,CAAC,CAACC,GAArE;AAA0E,IAAA,IAAI,EAAC,UAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2FD,CAAC,CAACG,IAA7F,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAD6B,CAA7B,CAtEe,CA6Ef;;;AACA,QAAMD,WAAW,GAAGE,CAAC,IAAI,CAExB,CAFoB,CACjB;;AAGJ;AAJA;;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,4BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,IAAD;AAAM,IAAA,eAAe,EAAE,CAAC,GAAD,EAAM,GAAN,CAAvB;AAAmC,IAAA,IAAI,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAC,GAAb;AAAiB,IAAA,KAAK,eAAE;AAAM,MAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqB,oBAAC,oBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AACI,IAAA,SAAS,EAAC,WADd;AAEI,IAAA,YAAY,EAAGC,CAAD,IAAQ,IAAGA,CAAE,EAF/B;AAGI,IAAA,KAAK,MAHT;AAGU,IAAA,KAAK,EAAEpC,KAHjB;AAII,IAAA,QAAQ,EAAEyB,YAJd;AAKI,IAAA,GAAG,EAAC,OALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAFJ,eAeI,oBAAC,OAAD;AAAS,IAAA,GAAG,EAAC,GAAb;AAAiB,IAAA,KAAK,eAAE;AAAM,MAAA,SAAS,EAAC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqB,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArB,eAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,KAAK,EAAE;AAACY,MAAAA,SAAS,EAAE;AAAZ,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKR,cAAc,EAFnB,CADJ,CAfJ,CAHJ,CADJ,eA6BI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGK/B,OAAO,gBACD;AAAI,IAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADC,gBAED;AAAI,IAAA,SAAS,EAAC,yBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALX,EASKF,QAAQ,CAAC0C,MAAT,GAAkB,CAAlB,iBAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAT5B,eAWI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGK1C,QAAQ,CAACkC,GAAT,CAAcZ,CAAD,iBACV;AAAK,IAAA,GAAG,EAAEA,CAAC,CAACc,GAAZ;AAAiB,IAAA,SAAS,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEd,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADH,CAHL,CAXJ,CA7BJ,CADJ,CADJ;AA0DH,CA7ID;;AA8IA,eAAevB,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n/* To get all the products, and get the products by default, need\r\nto use a method called getProductsByCount. Which is already \r\naccessible though functions folder in product.js. There\r\ngetProductsByCount makes a request using an Axios call to an \r\nendpoint and give the value of how many are needed. */\r\nimport {\r\n    getProductsByCount,\r\n    fetchProductsByFilter,\r\n} from \"../functions/product\";\r\nimport { getCategories } from \"../functions/category\";\r\n/* Access the Redux Store  */\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport ProductCard from '../components/cards/ProductCard';\r\nimport { Menu, Slider, Checkbox } from 'antd';\r\nimport { DollarCircleOutlined, DownCircleOutlined, checkOutlined } from '@ant-design/icons';\r\n\r\nconst { SubMenu, ItemGroup } = Menu;\r\n\r\nconst Shop = () => {\r\n    /* State variable to store products, useState will be an empty array. */\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [price, setPrice] = useState([0, 0]);\r\n    const [ok, setOk] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [categoriesIds, setCategoriesIds] = useState([]);\r\n\r\n\r\n    let dispatch = useDispatch();\r\n    let { search } = useSelector((state) => ({ ...state }));\r\n    const { text } = search;\r\n\r\n    /* Need to show products when the user lands on this page. For this, \r\n    useEffect is used. Which will make a request to the getProductsByCount method\r\n    that is imported. which will be stored in the state which is the const [products, setProducts],\r\n    up above. Everything will be displayed utilizing map function in the return function below. */\r\n    useEffect(() => {\r\n        loadAllProducts();\r\n        // fetch categories\r\n        getCategories().then((res) => setCategories(res.data))\r\n    }, []);\r\n\r\n    const fetchProducts = (arg) => {\r\n        fetchProductsByFilter(arg).then((res) => {\r\n            setProducts(res.data);\r\n        });\r\n    };\r\n\r\n    //* 1. load products by default on page load.\r\n    const loadAllProducts = () => {\r\n        /* Using the method getProductsByCount declare how many is needed by the numeric value.\r\n        By default 12 will show. This is subject to change. then set response, in this case it is\r\n        p. setProducts to p.data, and setLoading to false. */\r\n        getProductsByCount(12).then((p) => {\r\n            setProducts(p.data);\r\n            setLoading(false);\r\n        });\r\n    };\r\n\r\n    //*  2. load products on user search input\r\n    useEffect(() => {\r\n        /**This console.log only works on the Shop page. */\r\n        // console.log(\"load products on user search input\", text);\r\n        const delayed = setTimeout(() => {\r\n            fetchProducts({ query: text });\r\n        }, 300);\r\n        return () => clearTimeout(delayed);\r\n    }, [text]);\r\n\r\n    //* 3. load products based on price range\r\n    useEffect(() => {\r\n        console.log('ok to request');\r\n        fetchProducts({ price });\r\n    }, [ok]);\r\n\r\n    const handleSlider = (value) => {\r\n        dispatch({\r\n            type: \"SEARCH-QUERY\",\r\n            payload: { text: '' },\r\n        });\r\n        setPrice(value); \r\n        setTimeout(() => {\r\n            setOk(!ok);\r\n        }, 300);\r\n    };\r\n\r\n    // 4. load products based on category\r\n    // show categories in a  list of checkbox\r\n    const showCategories = () => categories.map((c) => (\r\n    <div key={c._id}>\r\n        <Checkbox onChange={handleCheck} className=\"pb-2 pl-4 pr-4\" value={c._id} name=\"category\">{c.name}</Checkbox>\r\n        <br />\r\n    </div>\r\n    ));\r\n\r\n    // handle check for categories\r\n    const handleCheck = e => {\r\n        // \r\n    }\r\n\r\n    /* By this time the products should be in the state. So now return them.  */\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3\">\r\n                    <h4 className='text-center text-info pt-4'>Search/Filter</h4>\r\n                    <hr />\r\n                    <Menu defaultOpenKeys={['1', '2']} mode='inline' >\r\n                    {/** price */}\r\n                        <SubMenu key='1' title={<span className='h6'><DollarCircleOutlined />Price</span>}>\r\n                            <div>\r\n                                <Slider\r\n                                    className='ml-4 mr-4'\r\n                                    tipFormatter={(v) => `$${v}`}\r\n                                    range value={price}\r\n                                    onChange={handleSlider}\r\n                                    max=\"10000\"\r\n                                />\r\n                            </div>\r\n                        </SubMenu>\r\n\r\n                        {/** category */}\r\n                        <SubMenu key='2' title={<span className='h6'><DownCircleOutlined /> Category </span>}>\r\n                            <div style={{marginTop: '-10px'}}>\r\n                                {/* {JSON.stringify(categories)} */}\r\n                                {showCategories()}\r\n                            </div>\r\n                        </SubMenu>\r\n\r\n                    </Menu>\r\n                </div>\r\n\r\n                <div className=\"col-md-9 pt-2\">\r\n                    {/* If it is loading, the show Loading..., \r\n                    otherwise show Products.  */}\r\n                    {loading\r\n                        ? (<h4 className=\"text-center text-danger\">Loading...</h4>)\r\n                        : (<h4 className=\"text-center text-danger\">Products</h4>)\r\n                    }\r\n                    {/* If the length of the products is less then 1, \r\n                    show No products found */}\r\n                    {products.length < 1 && <p>No products found</p>}\r\n\r\n                    <div className=\"row pb-5\">\r\n                        {/* Each product must be shown in its own div. \r\n                    To accomplish this, use the map function */}\r\n                        {products.map((p) => (\r\n                            <div key={p._id} className=\"col-md-4 mt-3\">\r\n                                {/* Here is the ProductCard, and it must be passed the\r\n                            products as props, so product={p} */}\r\n                                <ProductCard product={p} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default Shop;"]},"metadata":{},"sourceType":"module"}