{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\routes\\\\AdminRoute.js\";\nimport React, { useEffect } from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport LoadingToRedirect from './LoadingToRedirect';\nimport { currentAdmin } from '../../functions/auth';\n\nconst AdminRoute = ({\n  children,\n  ...rest\n}) => {\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        console.log('CURRENT ADMIN RES', res);\n        setOk(true);\n      }).catch(err => {\n        console.log(\"ADMIN ROUTE ERR\", err);\n        setOk(false);\n      });\n    }\n  }, [user]);\n  return ok ? /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: () => children,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }\n  })) : /*#__PURE__*/React.createElement(LoadingToRedirect, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }\n  });\n};\n\nexport default AdminRoute;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/routes/AdminRoute.js"],"names":["React","useEffect","Route","Link","useSelector","LoadingToRedirect","currentAdmin","AdminRoute","children","rest","user","state","ok","setOk","useState","token","then","res","console","log","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,kBAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAASC,YAAT,QAA6B,sBAA7B;;AAGA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,KAA2B;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAWN,WAAW,CAAEO,KAAD,KAAY,EAAE,GAAGA;AAAL,GAAZ,CAAD,CAA5B;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcC,QAAQ,CAAC,KAAD,CAA5B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIS,IAAI,IAAIA,IAAI,CAACK,KAAjB,EAAwB;AACpBT,MAAAA,YAAY,CAACI,IAAI,CAACK,KAAN,CAAZ,CACKC,IADL,CACWC,GAAD,IAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACAJ,QAAAA,KAAK,CAAC,IAAD,CAAL;AACH,OAJL,EAKKO,KALL,CAKYC,GAAD,IAAS;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BE,GAA/B;AACAR,QAAAA,KAAK,CAAC,KAAD,CAAL;AACH,OARL;AASH;AACJ,GAZQ,EAYN,CAACH,IAAD,CAZM,CAAT;AAcA,SAAOE,EAAE,gBACF,oBAAC,KAAD,oBAAWH,IAAX;AAAiB,IAAA,MAAM,EAAE,MAAMD,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADE,gBAEF,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFP;AAGH,CArBD;;AAuBA,eAAeD,UAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\nimport { currentAdmin } from '../../functions/auth';\r\n\r\n\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n    const [ok, setOk] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (user && user.token) {\r\n            currentAdmin(user.token)\r\n                .then((res) => {\r\n                    console.log('CURRENT ADMIN RES', res);\r\n                    setOk(true);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"ADMIN ROUTE ERR\", err);\r\n                    setOk(false);\r\n                });\r\n        }\r\n    }, [user]);\r\n\r\n    return ok\r\n        ? (<Route {...rest} render={() => children} />)\r\n        : (<LoadingToRedirect />);\r\n};\r\n\r\nexport default AdminRoute;"]},"metadata":{},"sourceType":"module"}