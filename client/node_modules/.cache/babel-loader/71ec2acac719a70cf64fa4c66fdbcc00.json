{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\pages\\\\user\\\\History.js\";\nimport React, { useState, useEffect } from 'react';\nimport UserNav from '../../components/nav/UserNav';\nimport { getUserOrders } from '../../functions/user';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport ShowPaymentInfo from '../../components/cards/ShowPaymentInfo';\nimport './history.css';\nimport { Document, Page, Text, View, StyleSheet, PDFDownloadLink, PDFViewer } from '@react-pdf/renderer';\n\nconst History = () => {\n  const [orders, setOrders] = useState([]);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () => getUserOrders(user.token).then(res => {\n    console.log(JSON.stringify(res.data, null, 4));\n    setOrders(res.data);\n  });\n\n  const showOrderInTable = order => /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, \"Count\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, \"Shipping\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, order.products.map((p, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, p.product.title)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, p.product.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, p.count), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, p.product.shipping === 'Yes' ? /*#__PURE__*/React.createElement(CheckCircleOutlined, {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 36\n    }\n  }) : /*#__PURE__*/React.createElement(CloseCircleOutlined, {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 36\n    }\n  }))))));\n\n  const showDownloadLink = () => /*#__PURE__*/React.createElement(PDFViewer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Document, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Page, {\n    size: \"A4\",\n    className: \"page-\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Section #1\"), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, \"Section #2\")))));\n\n  const showEachOrders = () => orders.map((order, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"m-5 p-3 card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ShowPaymentInfo, {\n    order: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), showOrderInTable(order), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, showDownloadLink(order)))));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UserNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, orders.length > 0 ? 'User purchased orders' : 'No orders purchased yet'), showEachOrders())));\n};\n\nexport default History;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/pages/user/History.js"],"names":["React","useState","useEffect","UserNav","getUserOrders","useSelector","useDispatch","CheckCircleOutlined","CloseCircleOutlined","toast","ShowPaymentInfo","Document","Page","Text","View","StyleSheet","PDFDownloadLink","PDFViewer","History","orders","setOrders","user","state","loadUserOrders","token","then","res","console","log","JSON","stringify","data","showOrderInTable","order","products","map","p","i","product","title","price","count","shipping","color","showDownloadLink","showEachOrders","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport UserNav from '../../components/nav/UserNav';\r\nimport { getUserOrders } from '../../functions/user';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport { toast } from 'react-toastify';\r\nimport ShowPaymentInfo from '../../components/cards/ShowPaymentInfo';\r\nimport './history.css';\r\n\r\nimport {\r\n    Document,\r\n    Page,\r\n    Text,\r\n    View,\r\n    StyleSheet,\r\n    PDFDownloadLink,\r\n    PDFViewer\r\n} from '@react-pdf/renderer';\r\n\r\nconst History = () => {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    useEffect(() => {\r\n        loadUserOrders()\r\n    }, []);\r\n\r\n    const loadUserOrders = () => getUserOrders(user.token).then((res) => {\r\n        console.log(JSON.stringify(res.data, null, 4));\r\n        setOrders(res.data);\r\n    });\r\n\r\n    const showOrderInTable = (order) => (\r\n        <table className='table table-bordered' >\r\n            <thead className='thead-light'>\r\n                <tr>\r\n                    <th scope='col' >Title</th>\r\n                    <th scope='col' >Price</th>\r\n                    <th scope='col' >Count</th>\r\n                    {/* <th scope='col' >Brand</th> */}\r\n                    {/* <th scope='col' >Color</th> */}\r\n                    <th scope='col' >Shipping</th>\r\n                </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n                {order.products.map((p, i) => (\r\n                    <tr key={i} >\r\n                        <td><b>{p.product.title}</b></td>\r\n                        <td>{p.product.price}</td>\r\n                        {/* <td>{p.product.brand}</td> */}\r\n                        {/* <td>{p.color}</td> */}\r\n                        <td>{p.count}</td>\r\n                        <td>\r\n                            {p.product.shipping === 'Yes'\r\n                                ? (<CheckCircleOutlined style={{ color: 'green' }} />)\r\n                                : (<CloseCircleOutlined style={{ color: 'red' }} />)\r\n                            }\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n\r\n        </table>\r\n    );\r\n\r\n    const showDownloadLink = () => (\r\n        <PDFViewer>\r\n            <Document>\r\n                <Page size=\"A4\" className=\"page-\">\r\n                    <View>\r\n                        <Text>Section #1</Text>\r\n                        <Text>Section #2</Text>\r\n                    </View>\r\n\r\n                </Page>\r\n            </Document>\r\n        </PDFViewer>\r\n    )\r\n\r\n\r\n\r\n    const showEachOrders = () =>\r\n        orders.map((order, i) => (\r\n            <div key={i} className='m-5 p-3 card'>\r\n            <ShowPaymentInfo order={order} />\r\n                {/* <p className='text-center'>show payment info</p> */}\r\n                {showOrderInTable(order)}\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        {showDownloadLink(order)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ))\r\n\r\n\r\n    return (\r\n        <div className='container-fluid'>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <UserNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <h4>\r\n                        {orders.length > 0 ? 'User purchased orders' : 'No orders purchased yet'}\r\n                    </h4>\r\n\r\n                    {showEachOrders()}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default History;"]},"metadata":{},"sourceType":"module"}