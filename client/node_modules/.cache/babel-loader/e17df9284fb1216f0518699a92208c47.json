{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\pages\\\\user\\\\History.js\";\nimport React, { useState, useEffect } from 'react';\nimport UserNav from '../../components/nav/UserNav';\nimport { getUserOrders } from '../../functions/user';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\nimport { toast } from 'react-toastify';\nimport ShowPaymentInfo from '../../components/cards/ShowPaymentInfo';\nimport { PDFDownloadLink } from '@react-pdf/renderer';\nimport Invoice from '../../components/order/Invoice';\n\nconst History = () => {\n  const [orders, setOrders] = useState([]);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () => getUserOrders(user.token).then(res => {\n    console.log(JSON.stringify(res.data, null, 4));\n    setOrders(res.data);\n  });\n\n  const showOrderInTable = order => /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-bordered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"Count\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"Shipping\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, order.products.map((p, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  }, p.product.title)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, p.product.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, p.count), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, p.product.shipping === 'Yes' ? /*#__PURE__*/React.createElement(CheckCircleOutlined, {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 36\n    }\n  }) : /*#__PURE__*/React.createElement(CloseCircleOutlined, {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 36\n    }\n  }))))));\n\n  const showDownloadLink = order => /*#__PURE__*/React.createElement(PDFDownloadLink, {\n    document: /*#__PURE__*/React.createElement(Invoice, {\n      order: order,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }\n    }),\n    fileName: \"invoice.pdf\",\n    className: \"btn btn-sm btn-block btn-outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Download PDF\");\n\n  const showEachOrders = () => orders.map((order, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"m-5 p-3 card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ShowPaymentInfo, {\n    order: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }), showOrderInTable(order), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, showDownloadLink(order)))));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UserNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, orders.length > 0 ? 'User purchased orders' : 'No orders purchased yet'), showEachOrders())));\n};\n\nexport default History;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/pages/user/History.js"],"names":["React","useState","useEffect","UserNav","getUserOrders","useSelector","useDispatch","CheckCircleOutlined","CloseCircleOutlined","toast","ShowPaymentInfo","PDFDownloadLink","Invoice","History","orders","setOrders","user","state","loadUserOrders","token","then","res","console","log","JSON","stringify","data","showOrderInTable","order","products","map","p","i","product","title","price","count","shipping","color","showDownloadLink","showEachOrders","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,mBAAT,EAA8BC,mBAA9B,QAAyD,mBAAzD;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AAEA,SAASC,eAAT,QAAgC,qBAAhC;AAEA,OAAOC,OAAP,MAAoB,gCAApB;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAElB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAEe,IAAAA;AAAF,MAAWX,WAAW,CAAEY,KAAD,KAAY,EAAE,GAAGA;AAAL,GAAZ,CAAD,CAA5B;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,cAAc;AACjB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,cAAc,GAAG,MAAMd,aAAa,CAACY,IAAI,CAACG,KAAN,CAAb,CAA0BC,IAA1B,CAAgCC,GAAD,IAAS;AACjEC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,EAAyB,IAAzB,EAA+B,CAA/B,CAAZ;AACAX,IAAAA,SAAS,CAACM,GAAG,CAACK,IAAL,CAAT;AACH,GAH4B,CAA7B;;AAKA,QAAMC,gBAAgB,GAAIC,KAAD,iBACrB;AAAO,IAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,eAGI;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHJ,eAII;AAAI,IAAA,KAAK,EAAC,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CADJ,CADJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,KAAK,CAACC,QAAN,CAAeC,GAAf,CAAmB,CAACC,CAAD,EAAIC,CAAJ,kBAChB;AAAI,IAAA,GAAG,EAAEA,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,CAAC,CAACE,OAAF,CAAUC,KAAd,CAAJ,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,CAAC,CAACE,OAAF,CAAUE,KAAf,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,CAAC,CAACK,KAAP,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,CAAC,CAACE,OAAF,CAAUI,QAAV,KAAuB,KAAvB,gBACM,oBAAC,mBAAD;AAAqB,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,gBAEM,oBAAC,mBAAD;AAAqB,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE;AAAT,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHX,CAJJ,CADH,CADL,CAVJ,CADJ;;AA8BA,QAAMC,gBAAgB,GAAIX,KAAD,iBACrB,oBAAC,eAAD;AACI,IAAA,QAAQ,eAAE,oBAAC,OAAD;AAAS,MAAA,KAAK,EAAEA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADd;AAEI,IAAA,QAAQ,EAAC,aAFb;AAGI,IAAA,SAAS,EAAC,0CAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ;;AAYA,QAAMY,cAAc,GAAG,MACnB1B,MAAM,CAACgB,GAAP,CAAW,CAACF,KAAD,EAAQI,CAAR,kBACP;AAAK,IAAA,GAAG,EAAEA,CAAV;AAAa,IAAA,SAAS,EAAC,cAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,eAAD;AAAiB,IAAA,KAAK,EAAEJ,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGKD,gBAAgB,CAACC,KAAD,CAHrB,eAII;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKW,gBAAgB,CAACX,KAAD,CADrB,CADJ,CAJJ,CADJ,CADJ;;AAeA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKd,MAAM,CAAC2B,MAAP,GAAgB,CAAhB,GAAoB,uBAApB,GAA8C,yBADnD,CADJ,EAKKD,cAAc,EALnB,CAJJ,CADJ,CADJ;AAiBH,CAxFD;;AA0FA,eAAe3B,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport UserNav from '../../components/nav/UserNav';\r\nimport { getUserOrders } from '../../functions/user';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons';\r\nimport { toast } from 'react-toastify';\r\nimport ShowPaymentInfo from '../../components/cards/ShowPaymentInfo';\r\n\r\nimport { PDFDownloadLink } from '@react-pdf/renderer';\r\n\r\nimport Invoice from '../../components/order/Invoice';\r\n\r\nconst History = () => {\r\n\r\n    const [orders, setOrders] = useState([]);\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n\r\n    useEffect(() => {\r\n        loadUserOrders()\r\n    }, []);\r\n\r\n    const loadUserOrders = () => getUserOrders(user.token).then((res) => {\r\n        console.log(JSON.stringify(res.data, null, 4));\r\n        setOrders(res.data);\r\n    });\r\n\r\n    const showOrderInTable = (order) => (\r\n        <table className='table table-bordered' >\r\n            <thead className='thead-light'>\r\n                <tr>\r\n                    <th scope='col' >Title</th>\r\n                    <th scope='col' >Price</th>\r\n                    <th scope='col' >Count</th>\r\n                    <th scope='col' >Shipping</th>\r\n                </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n                {order.products.map((p, i) => (\r\n                    <tr key={i} >\r\n                        <td><b>{p.product.title}</b></td>\r\n                        <td>{p.product.price}</td>\r\n                        <td>{p.count}</td>\r\n                        <td>\r\n                            {p.product.shipping === 'Yes'\r\n                                ? (<CheckCircleOutlined style={{ color: 'green' }} />)\r\n                                : (<CloseCircleOutlined style={{ color: 'red' }} />)\r\n                            }\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n\r\n        </table>\r\n    );\r\n\r\n    const showDownloadLink = (order) => (\r\n        <PDFDownloadLink\r\n            document={<Invoice order={order} />}\r\n            fileName=\"invoice.pdf\"\r\n            className=\"btn btn-sm btn-block btn-outline-primary\"\r\n        >\r\n            Download PDF\r\n        </PDFDownloadLink>\r\n    )\r\n\r\n\r\n\r\n    const showEachOrders = () =>\r\n        orders.map((order, i) => (\r\n            <div key={i} className='m-5 p-3 card'>\r\n                <ShowPaymentInfo order={order} />\r\n                {/* <p className='text-center'>show payment info</p> */}\r\n                {showOrderInTable(order)}\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        {showDownloadLink(order)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ))\r\n\r\n\r\n    return (\r\n        <div className='container-fluid'>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <UserNav />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <h4 className=\"text-center\">\r\n                        {orders.length > 0 ? 'User purchased orders' : 'No orders purchased yet'}\r\n                    </h4>\r\n\r\n                    {showEachOrders()}\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default History;"]},"metadata":{},"sourceType":"module"}