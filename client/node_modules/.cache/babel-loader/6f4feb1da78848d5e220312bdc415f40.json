{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\home\\\\BestSellers.js\";\nimport React, { useEffect, useState } from 'react';\nimport LoadingCard from '../cards/LoadingCard';\nimport ProductCard from '../cards/ProductCard';\nimport { getProducts, getProductsCount } from '../../functions/product';\nimport { Pagination } from 'antd';\n\nconst BestSellers = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [productsCount, setProductsCount] = useState(0);\n  const [page, setPage] = useState(1);\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n  useEffect(() => {\n    getProductsCount().then(res => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true); // sort, order, limit\n\n    getProducts('sold', 'desc', 6).then(res => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingCard, {\n    count: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"div\", {\n    key: product._id,\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(ProductCard, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 37\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"col-md-4 offset-md-4 text-center pt-5 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    current: page,\n    total: productsCount / 6 * 10,\n    onChange: value => setPage(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default BestSellers;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/home/BestSellers.js"],"names":["React","useEffect","useState","LoadingCard","ProductCard","getProducts","getProductsCount","Pagination","BestSellers","products","setProducts","loading","setLoading","productsCount","setProductsCount","page","setPage","loadAllProducts","then","res","data","map","product","_id","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,yBAA9C;AACA,SAASC,UAAT,QAA2B,MAA3B;;AAEA,MAAMC,WAAW,GAAG,MAAM;AACtB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACW,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAC,CAAD,CAAlD;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,CAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,eAAe;AAClB,GAFQ,EAEN,CAACF,IAAD,CAFM,CAAT;AAIAd,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,gBAAgB,GAAGY,IAAnB,CAAwBC,GAAG,IAAIL,gBAAgB,CAACK,GAAG,CAACC,IAAL,CAA/C;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMH,eAAe,GAAG,MAAM;AAC1BL,IAAAA,UAAU,CAAC,IAAD,CAAV,CAD0B,CAE1B;;AACAP,IAAAA,WAAW,CAAC,MAAD,EAAS,MAAT,EAAiB,CAAjB,CAAX,CAA+Ba,IAA/B,CAAqCC,GAAD,IAAS;AACzCT,MAAAA,WAAW,CAACS,GAAG,CAACC,IAAL,CAAX;AACAR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAHD;AAIH,GAPD;;AASA,sBACI,uDACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKD,OAAO,gBACJ,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAE,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADI,gBAIA;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,QAAQ,CAACY,GAAT,CAAcC,OAAD,iBACV;AAAK,IAAA,GAAG,EAAEA,OAAO,CAACC,GAAlB;AAAuB,IAAA,SAAS,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAED,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADH,CADL,CANZ,CADJ,eAkBI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,OAAO,EAAEP,IADb;AAEI,IAAA,KAAK,EAAGF,aAAa,GAAG,CAAjB,GAAsB,EAFjC;AAGI,IAAA,QAAQ,EAAGW,KAAD,IAAWR,OAAO,CAACQ,KAAD,CAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,CAlBJ,CADJ;AA8BH,CArDD;;AAuDA,eAAehB,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport LoadingCard from '../cards/LoadingCard';\r\nimport ProductCard from '../cards/ProductCard';\r\nimport { getProducts, getProductsCount } from '../../functions/product';\r\nimport { Pagination } from 'antd';\r\n\r\nconst BestSellers = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [productsCount, setProductsCount] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        loadAllProducts();\r\n    }, [page]);\r\n\r\n    useEffect(() => {\r\n        getProductsCount().then(res => setProductsCount(res.data));\r\n    }, []);\r\n\r\n    const loadAllProducts = () => {\r\n        setLoading(true);\r\n        // sort, order, limit\r\n        getProducts('sold', 'desc', 6).then((res) => {\r\n            setProducts(res.data);\r\n            setLoading(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"container\">\r\n\r\n                {loading ? (\r\n                    <LoadingCard count={3} />\r\n                ) :\r\n                    (\r\n                        <div className=\"row\">\r\n                            {products.map((product) => (\r\n                                <div key={product._id} className=\"col-md-4\">\r\n                                    <ProductCard product={product} />\r\n                                </div>\r\n                            )\r\n                            )}\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n            <div className=\"row\" >\r\n                <nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\r\n                    <Pagination\r\n                        current={page}\r\n                        total={(productsCount / 6) * 10}\r\n                        onChange={(value) => setPage(value)}\r\n                    />\r\n                </nav>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BestSellers;"]},"metadata":{},"sourceType":"module"}