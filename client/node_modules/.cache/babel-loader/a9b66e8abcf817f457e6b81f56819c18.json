{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\cards\\\\ProductCard.js\";\nimport './cards.css';\nimport React, { useState } from 'react';\nimport { Card, Tooltip } from 'antd';\nimport { EyeOutlined, ShoppingCartOutlined } from '@ant-design/icons';\nimport Yayas from '../../images/yayas.png';\nimport { Link } from 'react-router-dom';\nimport { Carousel } from 'react-responsive-carousel';\nimport { showAverage } from '../../functions/rating';\nimport _ from 'lodash'; //* useSelector is to access redux, useDispatch is to update redux\n\nimport { useSelector, useDispatch } from 'react-redux';\nconst {\n  Meta\n} = Card;\n\nconst ProductCard = ({\n  product\n}) => {\n  const [tooltip, setTooltip] = useState('Click to add'); //redux\n\n  const {\n    user,\n    cart\n  } = useSelector(state => ({ ...state\n  }));\n  const dispatch = useDispatch();\n\n  const handleAddToCart = () => {\n    // create cart array\n    let cart = [];\n\n    if (typeof window !== 'undefined') {\n      // if cart is in local storage GET it\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } // push new product to cart\n\n\n      cart.push({ ...product,\n        count: 1\n      }); // remove duplicates\n\n      let unique = _.uniqWith(cart, _.isEqual); // save to local storage\n\n\n      console.log('unique', unique);\n      localStorage.setItem(\"cart\", JSON.stringify(unique)); //show tooltip\n\n      setTooltip('Added'); // add to redux state\n\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique\n      }); // show cart items inside drawer\n\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true\n      });\n    }\n  }; // destructure\n\n\n  const {\n    images,\n    title,\n    description,\n    slug,\n    price\n  } = product;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid product-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-5 text-center text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"$ \", product && product.title && price), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, `${description && description.substring(0, 40)}...`), product && product.ratings && product.ratings.length > 0 ? showAverage(product) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center pt-1 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, \"No rating yet\"), /*#__PURE__*/React.createElement(Card, {\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Product Image\",\n      src: images && images.length ? images[0].url : Yayas,\n      style: {\n        height: \"150px\",\n        objectFit: \"cover\"\n      },\n      className: \"p-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }),\n    actions: [/*#__PURE__*/React.createElement(Link, {\n      to: `/product/${slug}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(EyeOutlined, {\n      className: \"text-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }), \" View Product\"), /*#__PURE__*/React.createElement(Tooltip, {\n      title: tooltip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: handleAddToCart,\n      disabled: product.quantity < 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ShoppingCartOutlined, {\n      className: \"text-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }), product.quantity < 1 ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 54\n      }\n    }, \"Out Of Stock\") : 'Add To Cart'))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: `${title} - ${price}`,\n    description: `${description && description.substring(0, 40)}...`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default ProductCard;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/cards/ProductCard.js"],"names":["React","useState","Card","Tooltip","EyeOutlined","ShoppingCartOutlined","Yayas","Link","Carousel","showAverage","_","useSelector","useDispatch","Meta","ProductCard","product","tooltip","setTooltip","user","cart","state","dispatch","handleAddToCart","window","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","console","log","setItem","stringify","type","payload","images","title","description","slug","price","substring","ratings","length","url","height","objectFit","quantity"],"mappings":"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","sourcesContent":["import './cards.css';\r\nimport React, { useState } from 'react';\r\nimport { Card, Tooltip } from 'antd';\r\nimport { EyeOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport Yayas from '../../images/yayas.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { showAverage } from '../../functions/rating';\r\nimport _ from 'lodash';\r\n//* useSelector is to access redux, useDispatch is to update redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst ProductCard = ({ product }) => {\r\n\r\n    const [tooltip, setTooltip] = useState('Click to add');\r\n\r\n    //redux\r\n    const { user, cart } = useSelector((state) => ({ ...state }));\r\n    const dispatch = useDispatch();\r\n\r\n    const handleAddToCart = () => {\r\n        // create cart array\r\n        let cart = [];\r\n        if (typeof window !== 'undefined') {\r\n            // if cart is in local storage GET it\r\n            if (localStorage.getItem(\"cart\")) {\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n            }\r\n            // push new product to cart\r\n            cart.push({\r\n                ...product,\r\n                count: 1,\r\n            });\r\n\r\n            // remove duplicates\r\n            let unique = _.uniqWith(cart, _.isEqual)\r\n\r\n            // save to local storage\r\n            console.log('unique', unique);\r\n            localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n\r\n            //show tooltip\r\n            setTooltip('Added');\r\n\r\n            // add to redux state\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: unique,\r\n            });\r\n            // show cart items inside drawer\r\n            dispatch({\r\n                type: \"SET_VISIBLE\",\r\n                payload: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    // destructure\r\n    const { images, title, description, slug, price } = product;\r\n\r\n    return (\r\n        <div className=\"container-fluid product-card\">\r\n\r\n            <div className='pt-5 text-center text-primary'>$ {product && product.title && price}</div>\r\n            <div className='text-center text-primary'>{`${description && description.substring(0, 40)}...`}</div>\r\n            {product && product.ratings && product.ratings.length > 0\r\n                ? showAverage(product)\r\n                : <div className='text-center pt-1 pb-3'>No rating yet</div>}\r\n            <Card\r\n\r\n                cover={\r\n                    <img alt=\"Product Image\" src={\r\n                        images && images.length\r\n                            ? images[0].url\r\n                            : Yayas\r\n                    }\r\n                        style={{ height: \"150px\", objectFit: \"cover\" }}\r\n                        className=\"p-1\"\r\n                    />\r\n                }\r\n\r\n                actions={[\r\n                    <Link to={`/product/${slug}`}>\r\n                        <EyeOutlined className=\"text-warning\" />\r\n                        <br /> View Product\r\n                    </Link>,\r\n                    <Tooltip title={tooltip}>\r\n                        <a onClick={handleAddToCart} disabled={product.quantity < 1}>\r\n                            <ShoppingCartOutlined className=\"text-success\"\r\n                            />\r\n                            <br />\r\n                            {product.quantity < 1 ? (<p className=\"text-danger\">Out Of Stock</p>) : 'Add To Cart'}\r\n                        </a>\r\n                    </Tooltip>,\r\n                ]}\r\n            >\r\n                <Meta\r\n                    title={`${title} - ${price}`}\r\n                    description={`${description && description.substring(0, 40)}...`}\r\n                />\r\n            </Card>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProductCard;"]},"metadata":{},"sourceType":"module"}