{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\cards\\\\SingleProduct.js\";\nimport React, { useState } from 'react';\nimport { Card, Tabs, Tooltip } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { HeartOutlined, ShoppingCartOutlined } from '@ant-design/icons';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport { Carousel } from 'react-responsive-carousel';\nimport './cards.css';\nimport Yayas from '../../images/yayas.png';\nimport ProductListItems from './ProductListItems';\nimport StarRating from 'react-star-ratings';\nimport RatingModal from '../modal/RatingModal';\nimport { showAverage } from '../../functions/rating';\nimport _ from 'lodash';\nimport { addToWishlist } from '../../functions/user'; //* useSelector is to access redux, useDispatch is to update redux\n\nimport { useSelector, useDispatch } from 'react-redux';\nconst {\n  TabPane\n} = Tabs; // This is children component of Product page\n\nconst SingleProduct = ({\n  product,\n  onStarClick,\n  star\n}) => {\n  const [tooltip, setTooltip] = useState('Click to add'); //redux\n\n  const {\n    user,\n    cart\n  } = useSelector(state => ({ ...state\n  }));\n  const dispatch = useDispatch();\n  const {\n    title,\n    images,\n    description,\n    _id\n  } = product;\n\n  const handleAddToCart = () => {\n    // create cart array\n    let cart = [];\n\n    if (typeof window !== 'undefined') {\n      // if cart is in local storage GET it\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      } // push new product to cart\n\n\n      cart.push({ ...product,\n        count: 1\n      }); // remove duplicates\n\n      let unique = _.uniqWith(cart, _.isEqual); // save to local storage\n\n\n      console.log('unique', unique);\n      localStorage.setItem(\"cart\", JSON.stringify(unique)); //show tooltip\n\n      setTooltip('Added'); // add to redux state\n\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique\n      }); // show cart items inside drawer\n\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true\n      });\n    }\n  };\n\n  const handleAddToWishlist = e => {\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, images && images.length ? /*#__PURE__*/React.createElement(Carousel, {\n    showArrows: true,\n    autoPlay: true,\n    infiniteLoop: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 24\n    }\n  }, images && images.map(i => /*#__PURE__*/React.createElement(\"img\", {\n    src: i.url,\n    key: i.public_id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 54\n    }\n  }))) : /*#__PURE__*/React.createElement(Card, {\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      src: Yayas,\n      className: \"mb-3 card-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 24\n    }\n  }), /*#__PURE__*/React.createElement(Tabs, {\n    type: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"Description\",\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, description && description), /*#__PURE__*/React.createElement(TabPane, {\n    tab: \"Learn More\",\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"Please feel free to email to learn more about the product\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"single-card-title p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, title), product && product.ratings && product.ratings.length > 0 ? showAverage(product) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center pt-1 pb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 23\n    }\n  }, \"No rating yet\"), /*#__PURE__*/React.createElement(Card, {\n    actions: [/*#__PURE__*/React.createElement(Tooltip, {\n      title: tooltip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: handleAddToCart,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ShoppingCartOutlined // onClick={() => handleRemove(slug)}\n    , {\n      className: \"text-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }), \" Add to Cart\")), /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(HeartOutlined, {\n      className: \"text-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }), \"Add to Wishlist\"), /*#__PURE__*/React.createElement(RatingModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(StarRating, {\n      name: _id,\n      numberOfStars: 5,\n      rating: star,\n      changeRating: onStarClick,\n      isSelectable: true,\n      isAggregateRating: true,\n      starRatedColor: \"rgb(255, 196, 13)\",\n      starEmptyColor: \"rgb(203, 211, 227)\",\n      starHoverColor: \"rgb(245, 224, 81)\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ProductListItems, {\n    product: product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default SingleProduct;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/cards/SingleProduct.js"],"names":["React","useState","Card","Tabs","Tooltip","Link","HeartOutlined","ShoppingCartOutlined","Carousel","Yayas","ProductListItems","StarRating","RatingModal","showAverage","_","addToWishlist","useSelector","useDispatch","TabPane","SingleProduct","product","onStarClick","star","tooltip","setTooltip","user","cart","state","dispatch","title","images","description","_id","handleAddToCart","window","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","console","log","setItem","stringify","type","payload","handleAddToWishlist","e","preventDefault","length","map","i","url","public_id","ratings"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Card, Tabs, Tooltip } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { HeartOutlined, ShoppingCartOutlined } from '@ant-design/icons';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport './cards.css';\r\nimport Yayas from '../../images/yayas.png';\r\nimport ProductListItems from './ProductListItems';\r\nimport StarRating from 'react-star-ratings';\r\nimport RatingModal from '../modal/RatingModal';\r\nimport { showAverage } from '../../functions/rating';\r\nimport _ from 'lodash';\r\nimport {addToWishlist} from '../../functions/user';\r\n//* useSelector is to access redux, useDispatch is to update redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\n// This is children component of Product page\r\nconst SingleProduct = ({ product, onStarClick, star }) => {\r\n\r\n    const [tooltip, setTooltip] = useState('Click to add');\r\n\r\n    //redux\r\n    const { user, cart } = useSelector((state) => ({ ...state }));\r\n    const dispatch = useDispatch();\r\n\r\n    const { title, images, description, _id } = product;\r\n\r\n    const handleAddToCart = () => {\r\n        // create cart array\r\n        let cart = [];\r\n        if (typeof window !== 'undefined') {\r\n            // if cart is in local storage GET it\r\n            if (localStorage.getItem(\"cart\")) {\r\n                cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n            }\r\n            // push new product to cart\r\n            cart.push({\r\n                ...product,\r\n                count: 1,\r\n            });\r\n\r\n            // remove duplicates\r\n            let unique = _.uniqWith(cart, _.isEqual)\r\n\r\n            // save to local storage\r\n            console.log('unique', unique);\r\n            localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n\r\n            //show tooltip\r\n            setTooltip('Added');\r\n\r\n            // add to redux state\r\n            dispatch({\r\n                type: \"ADD_TO_CART\",\r\n                payload: unique,\r\n            });\r\n\r\n            // show cart items inside drawer\r\n            dispatch({\r\n                type: \"SET_VISIBLE\",\r\n                payload: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleAddToWishlist = (e) => {\r\n        e.preventDefault();\r\n        \r\n    };\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className=\"col-md-7\">\r\n                {images && images.length\r\n                    ? (<Carousel showArrows={true} autoPlay infiniteLoop>\r\n                        {images && images.map((i) => <img src={i.url} key={i.public_id} />)}\r\n                    </Carousel>)\r\n                    : (<Card cover={<img src={Yayas} className=\"mb-3 card-image\" />}></Card>\r\n                    )}\r\n\r\n                <Tabs type=\"card\">\r\n                    <TabPane tab=\"Description\" key=\"1\">\r\n                        {description && description}\r\n                    </TabPane>\r\n                    <TabPane tab=\"Learn More\" key=\"2\">\r\n                        Please feel free to email to learn more about the product\r\n                        </TabPane>\r\n                </Tabs>\r\n            </div>\r\n\r\n            <div className=\"col-md-5\">\r\n                <h1 className=\"single-card-title p-3\">{title}</h1>\r\n\r\n\r\n                {product && product.ratings && product.ratings.length > 0\r\n                    ? showAverage(product)\r\n                    : <div className='text-center pt-1 pb-3'>No rating yet</div>}\r\n\r\n                <Card\r\n                    actions={[\r\n                        <Tooltip title={tooltip}>\r\n                            <a onClick={handleAddToCart}>\r\n                                <ShoppingCartOutlined\r\n                                    // onClick={() => handleRemove(slug)}\r\n                                    className=\"text-success\"\r\n                                />\r\n                                <br /> Add to Cart\r\n                            </a>\r\n                        </Tooltip>,\r\n                        <a  >\r\n                            <HeartOutlined className=\"text-info\" />\r\n                            <br />\r\n                            Add to Wishlist\r\n                        </a>,\r\n                        <RatingModal>\r\n                            <StarRating\r\n                                name={_id}\r\n                                numberOfStars={5}\r\n                                rating={star}\r\n                                changeRating={onStarClick}\r\n                                isSelectable={true}\r\n                                isAggregateRating={true}\r\n                                starRatedColor=\"rgb(255, 196, 13)\"\r\n                                starEmptyColor=\"rgb(203, 211, 227)\"\r\n                                starHoverColor=\"rgb(245, 224, 81)\"\r\n                            />\r\n                        </RatingModal>,\r\n                    ]}\r\n                >\r\n                    <ProductListItems product={product} />\r\n                </Card>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SingleProduct;"]},"metadata":{},"sourceType":"module"}