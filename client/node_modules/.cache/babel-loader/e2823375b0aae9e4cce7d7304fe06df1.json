{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\pages\\\\admin\\\\coupon\\\\CreateCouponPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport DatePicker from 'react-datepicker';\nimport { getCoupons, removeCoupon, createCoupon } from '../../../functions/coupon';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { DeleteOutlined } from '@ant-design/icons';\nimport AdminNav from '../../../components/nav/AdminNav';\n\nconst CreateCouponPage = () => {\n  const [name, setName] = useState('');\n  const [expiry, setExpiry] = useState('');\n  const [discount, setDiscount] = useState('');\n  const [loading, setLoading] = useState('');\n  const [coupons, setCoupons] = useState([]); //redux\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  useEffect(() => {\n    getCoupons().then(res => setCoupons(res.data));\n  }, []);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true); // console.table(name, expiry, discount);\n\n    createCoupon({\n      name,\n      expiry,\n      discount\n    }, user.token).then(res => {\n      setLoading(false);\n      setName('');\n      setDiscount('');\n      setExpiry('');\n      toast.success(`${res.data.name} is created`);\n    }).catch(err => console.log(\"create coupon err\", err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AdminNav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 59\n    }\n  }, \"Name\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Must be between 6 and 12 characters\",\n    className: \"form-control\",\n    onChange: e => setName(e.target.value),\n    value: name,\n    autoFocus: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 59\n    }\n  }, \"Discount\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Discount is in percentage\",\n    className: \"form-control\",\n    onChange: e => setDiscount(e.target.value),\n    value: discount,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 59\n    }\n  }, \"Expires\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    className: \"form-control\",\n    selected: new Date(),\n    value: expiry,\n    onChange: date => setExpiry(date),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, \" \", coupons.length))));\n};\n\nexport default CreateCouponPage;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/pages/admin/coupon/CreateCouponPage.js"],"names":["React","useState","useEffect","useSelector","useDispatch","toast","DatePicker","getCoupons","removeCoupon","createCoupon","DeleteOutlined","AdminNav","CreateCouponPage","name","setName","expiry","setExpiry","discount","setDiscount","loading","setLoading","coupons","setCoupons","user","state","then","res","data","handleSubmit","e","preventDefault","token","success","catch","err","console","log","target","value","Date","date","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport DatePicker from 'react-datepicker';\r\nimport { \r\n    getCoupons, \r\n    removeCoupon, \r\n    createCoupon \r\n} from '../../../functions/coupon';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport AdminNav from '../../../components/nav/AdminNav';\r\n\r\nconst CreateCouponPage = () => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [expiry, setExpiry] = useState('');\r\n    const [discount, setDiscount] = useState('');\r\n    const [loading, setLoading] = useState('');\r\n    const [coupons, setCoupons] = useState([]);\r\n\r\n    //redux\r\n    const {user} = useSelector((state) => ({...state}));\r\n\r\n    useEffect(() => {\r\n        getCoupons().then((res) => setCoupons(res.data));\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        // console.table(name, expiry, discount);\r\n        createCoupon({name, expiry, discount}, user.token)\r\n        .then((res) => {\r\n            setLoading(false);\r\n            setName('')\r\n            setDiscount('')\r\n            setExpiry('')\r\n            toast.success(`${res.data.name} is created`);\r\n        }).catch((err) => console.log(\"create coupon err\", err));\r\n    };\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-2\">\r\n                    <AdminNav />\r\n                </div>\r\n                <div className=\"col-md-10\">\r\n                    \r\n                    <form onSubmit={handleSubmit} >\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\"><b>Name</b></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Must be between 6 and 12 characters\"\r\n                                className=\"form-control\"\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                value={name}\r\n                                autoFocus\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\"><b>Discount</b></label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Discount is in percentage\"\r\n                                className=\"form-control\"\r\n                                onChange={(e) => setDiscount(e.target.value)}\r\n                                value={discount}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label className=\"text-muted\"><b>Expires</b></label>\r\n                            <br />\r\n                            <DatePicker\r\n                                className=\"form-control\"\r\n                                selected={new Date()}\r\n                                value={expiry}\r\n                                onChange={(date) => setExpiry(date)}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <button className=\"btn btn-outline-primary\">Save</button>\r\n                    </form>\r\n\r\n                    <br/>\r\n                    <h4> {coupons.length}</h4>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default CreateCouponPage;"]},"metadata":{},"sourceType":"module"}