{"ast":null,"code":"var _jsxFileName = \"C:\\\\e_commerce_project\\\\yayas\\\\client\\\\src\\\\components\\\\StripeCheckout.js\";\nimport React, { useState, useEffect } from 'react';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { createPaymentIntent } from '../functions/stripe';\nimport { Link } from 'react-router-dom';\nimport { Card } from 'antd';\nimport { DollarOutlined, CheckOutlined } from '@ant-design/icons';\nimport Yayas from '../images/yayas.png';\nimport { createOrder } from '../functions/user';\nimport \"./stripeCheckout.css\";\n\nconst StripeCheckout = ({\n  history\n}) => {\n  const dispatch = useDispatch();\n  const {\n    user,\n    coupon\n  } = useSelector(state => ({ ...state\n  }));\n  const [succeeded, setSucceeded] = useState(false);\n  const [error, setError] = useState(null);\n  const [processing, setProcessing] = useState('');\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState('');\n  const [cartTotal, setCartTotal] = useState(0);\n  const [totalAfterDiscount, setTotalAfterDiscount] = useState(0);\n  const [payable, setPayable] = useState(0);\n  const stripe = useStripe();\n  const elements = useElements();\n  useEffect(() => {\n    createPaymentIntent(user.token, coupon).then(res => {\n      console.log('create payment intent', res.data);\n      setClientSecret(res.data.clientSecret); // additional response received on successful payment\n\n      setCartTotal(res.data.cartTotal);\n      setTotalAfterDiscount(res.data.totalAfterDiscount);\n      setPayable(res.data.payable);\n    });\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setProcessing(true);\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement),\n        billing_details: {\n          name: e.target.name.value\n        }\n      }\n    });\n\n    if (payload.error) {\n      setError(`Payment failed ${payload.error.message}`);\n      setProcessing(false);\n    } else {\n      // here you get result after successful payment\n      // create order and save in database for admin to process\n      createOrder(payload, user.token).then(res => {}); // empty user cart from redux store and local storage\n\n      console.log(JSON.stringify(payload, null, 4));\n      setError(null);\n      setProcessing(false);\n      setSucceeded(true);\n    }\n  };\n\n  const handleChange = async e => {\n    // listen to changes in the card element\n    // and display any errors as the \n    // customer types their card details\n    setDisabled(e.empty); // disable pay button if errors\n\n    setError(e.error ? e.error.message : \"\"); // show error message\n  };\n\n  const cartStyle = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: \"Arial, sans-serif\",\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#32325d\"\n        }\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\"\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !succeeded && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, coupon && totalAfterDiscount !== undefined ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alert alert-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 28\n    }\n  }, `Total after discount: $${totalAfterDiscount} `) : /*#__PURE__*/React.createElement(\"p\", {\n    className: \"alert alert-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 28\n    }\n  }, \"No coupon applied\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center pb-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      src: Yayas,\n      style: {\n        height: '200px',\n        objectFit: 'cover',\n        marginBottom: '-30px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }),\n    actions: [/*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DollarOutlined, {\n      className: \"text-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }), \"Total: $ \", cartTotal), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CheckOutlined, {\n      className: \"text-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }), \"Total payable: $ \", (payable / 100).toFixed(2))],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"payment-form\",\n    className: \"stripe-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardElement, {\n    id: \"card-element\",\n    options: cartStyle,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"stipe-button\",\n    disabled: processing || disabled || succeeded,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"button-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }, processing ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner\",\n    id: \"spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 32\n    }\n  }) : \"Pay\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 17\n    }\n  }), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-error\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: succeeded ? 'result message' : 'result-message hidden',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, \"Payment Successful...\", \"\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/user/history\",\n    id: \"card-payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, \"View in your purchase history\")))));\n};\n\nexport default StripeCheckout;","map":{"version":3,"sources":["C:/e_commerce_project/yayas/client/src/components/StripeCheckout.js"],"names":["React","useState","useEffect","CardElement","useStripe","useElements","useSelector","useDispatch","createPaymentIntent","Link","Card","DollarOutlined","CheckOutlined","Yayas","createOrder","StripeCheckout","history","dispatch","user","coupon","state","succeeded","setSucceeded","error","setError","processing","setProcessing","disabled","setDisabled","clientSecret","setClientSecret","cartTotal","setCartTotal","totalAfterDiscount","setTotalAfterDiscount","payable","setPayable","stripe","elements","token","then","res","console","log","data","handleSubmit","e","preventDefault","payload","confirmCardPayment","payment_method","card","getElement","billing_details","name","target","value","message","JSON","stringify","handleChange","empty","cartStyle","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor","undefined","height","objectFit","marginBottom","toFixed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { createPaymentIntent } from '../functions/stripe';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Card } from 'antd';\r\nimport { DollarOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport Yayas from '../images/yayas.png';\r\n\r\nimport {createOrder} from '../functions/user';\r\n\r\nimport \"./stripeCheckout.css\";\r\n\r\nconst StripeCheckout = ({ history }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { user, coupon } = useSelector((state) => ({ ...state }));\r\n\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [processing, setProcessing] = useState('');\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState('');\r\n\r\n    const [cartTotal, setCartTotal] = useState(0);\r\n    const [totalAfterDiscount, setTotalAfterDiscount] = useState(0);\r\n    const [payable, setPayable] = useState(0);\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    useEffect(() => {\r\n        createPaymentIntent(user.token, coupon)\r\n            .then((res) => {\r\n                console.log('create payment intent', res.data);\r\n                setClientSecret(res.data.clientSecret);\r\n                // additional response received on successful payment\r\n                setCartTotal(res.data.cartTotal);\r\n                setTotalAfterDiscount(res.data.totalAfterDiscount);\r\n                setPayable(res.data.payable);\r\n            });\r\n    }, []);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setProcessing(true);\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement),\r\n                billing_details: {\r\n                    name: e.target.name.value,\r\n                },\r\n            },\r\n        });\r\n        if (payload.error) {\r\n            setError(`Payment failed ${payload.error.message}`)\r\n            setProcessing(false)\r\n        } else {\r\n            // here you get result after successful payment\r\n            // create order and save in database for admin to process\r\n            createOrder(payload, user.token)\r\n            .then((res) => {\r\n                \r\n            });\r\n            // empty user cart from redux store and local storage\r\n            console.log(JSON.stringify(payload, null, 4));\r\n            setError(null);\r\n            setProcessing(false);\r\n            setSucceeded(true);\r\n\r\n        }\r\n    };\r\n\r\n    const handleChange = async (e) => {\r\n        // listen to changes in the card element\r\n        // and display any errors as the \r\n        // customer types their card details\r\n        setDisabled(e.empty); // disable pay button if errors\r\n        setError(e.error ? e.error.message : \"\"); // show error message\r\n    };\r\n\r\n    const cartStyle = {\r\n        style: {\r\n            base: {\r\n                color: \"#32325d\",\r\n                fontFamily: \"Arial, sans-serif\",\r\n                fontSmoothing: \"antialiased\",\r\n                fontSize: \"16px\",\r\n                \"::placeholder\": {\r\n                    color: \"#32325d\",\r\n                },\r\n            },\r\n            invalid: {\r\n                color: \"#fa755a\",\r\n                iconColor: \"#fa755a\",\r\n            },\r\n        },\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {\r\n                !succeeded && (\r\n                    <div> \r\n                        {coupon && totalAfterDiscount !== undefined \r\n                        ? (<p className=\"alert alert-success\">{`Total after discount: $${totalAfterDiscount} `}</p>) \r\n                        : (<p className=\"alert alert-danger\" >No coupon applied</p>)\r\n                        }\r\n                    </div>\r\n                )\r\n            }\r\n\r\n            <div className=\"text-center pb-5\">\r\n                <Card\r\n                    cover={\r\n                        <img src={Yayas} style={{\r\n                            height: '200px',\r\n                            objectFit: 'cover',\r\n                            marginBottom: '-30px',\r\n                        }}\r\n                        />\r\n                    }\r\n                    actions={[\r\n                        <>\r\n                            <DollarOutlined className=\"text-info\" />\r\n                            <br />\r\n                            Total: $ {cartTotal}\r\n                        </>,\r\n                        <>\r\n                            <CheckOutlined className=\"text-info\" />\r\n                            Total payable: $ {(payable / 100).toFixed(2)}\r\n                        </>\r\n                    ]}\r\n                />\r\n            </div>\r\n\r\n            <form\r\n                id=\"payment-form\"\r\n                className=\"stripe-form\"\r\n                onSubmit={handleSubmit}\r\n            >\r\n                <CardElement\r\n                    id=\"card-element\"\r\n                    options={cartStyle}\r\n                    onChange={handleChange}\r\n                />\r\n                <button\r\n                    className=\"stipe-button\"\r\n                    disabled={processing || disabled || succeeded}\r\n                >\r\n                    <span id=\"button-text\">\r\n                        {processing\r\n                            ? (<div className=\"spinner\" id=\"spinner\"></div>)\r\n                            : (\"Pay\")\r\n                        }\r\n                    </span>\r\n                </button>\r\n                <br />\r\n                {error && (\r\n                    <div className=\"card-error\" role=\"alert\">\r\n                        {error}\r\n                    </div>\r\n                )\r\n                }\r\n                <br />\r\n                <p className={succeeded ? 'result message' : 'result-message hidden'} >\r\n                    <div className='text-success'>Payment Successful...{\"\"}\r\n                        <Link to='/user/history' id='card-payment'>\r\n                            View in your purchase history\r\n                    </Link>\r\n                    </div>\r\n                </p>\r\n            </form>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default StripeCheckout;"]},"metadata":{},"sourceType":"module"}